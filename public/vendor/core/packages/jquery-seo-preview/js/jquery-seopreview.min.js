!function(e){"use strict";e.extend({seoPreview:function(a){function t(e,a){var t=e;return e.length>a&&(t=e.substring(0,a),t+=" ..."),t}function o(e){return e&&("INPUT"===e[0].nodeName&&"text"===e[0].type||"TEXTAREA"===e[0].nodeName)?!0:void 0}function i(){var e=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],a=new Date,t=a.getDate(),o=a.getMonth(),i=a.getFullYear();return e[o]+" "+t+", "+i}function n(e){var a=e.match(/:\/\/(www[0-9]?\.)?(.[^\/:]+)/i);return null!=a&&a.length>2&&"string"==typeof a[2]&&a[2].length>0?a[2]:e}var s={google_div:"#seopreview-google",facebook_div:"#seopreview-facebook",metadata:{title:"MonetizeDesign - SEO Live Preview jQuery Plugin",desc:"The jQuery SEO Preview Plugin is a simple plugin that allows you to preview meta tag data in a styled Google and Facebook link preview. You can bind the preview to inputs for live editing perfect for blog and CMS applications when you need to edit social meta data.",url:{full_url:"https://monetizedesign.github.io/js-seopreview/",use_slug:!1,base_domain:"",auto_dash:!0}},google:{show:!0,date:!0},facebook:{show:!0,featured_image:""}},r=e.extend(!0,s,a),d=r.metadata.title;o(r.metadata.title)&&(d=r.metadata.title.val());var l=r.metadata.url.full_url;o(r.metadata.url.full_url)&&(l=r.metadata.url.full_url.val());var u=r.metadata.desc;o(r.metadata.desc)&&(u=r.metadata.desc.val());var v=r.facebook.featured_image;o(r.facebook.featured_image)&&(v=r.facebook.featured_image.val());var p;p=r.google.date===!0?"<span id='js-seo-preview__google-date'>"+i()+" - </span>":"",e.each(r.metadata,function(a,o){if(o[0]&&("text"===o[0].type||"textarea"===o[0].type)){var i="";"title"===a?i=65:"desc"===a&&(i=300),e(document).on("keyup",o,function(){e(document).find("span#js-seo-preview__google-"+a).text(t(o.val(),i)),e(document).find("span#js-seo-preview__facebook-"+a).text(t(o.val(),300))})}}),e.each(r.metadata.url,function(a,o){if(o[0]&&("text"===o[0].type||"textarea"===o[0].type)){var i=72;e(document).on("keyup",o,function(){var s=a;r.metadata.url.auto_dash===!1?s=o.val():(s=o.val().replace(/[^A-Za-z0-9 :\/ . -]/g,"").replace(/\s{2,}/g," ").replace(/\s+/g,"-").toLowerCase(),o.val(s));var d=t(s,i);r.metadata.url.use_slug===!0&&(d=t(r.metadata.url.base_domain+s,i)),e(document).find("span#js-seo-preview__google-url").text(d),e(document).find("span#js-seo-preview__facebook-url").text(n(d))})}}),e.each(r.facebook.featured_image,function(a,t){!t||"text"!==t.type&&"textarea"!==t.type||e(document).on("keyup",t,function(){null!==e(document).find(t).val()&&""!==e(document).find(t).val().trim()?(e(document).find("img#js-seo-preview__facebook-image").attr("src",e(document).find(t).val()),e(document).find("img#js-seo-preview__facebook-image").attr("style","display: block !important")):e(document).find("img#js-seo-preview__facebook-image").attr("style","display: none !important")})});var c="";c+="<div id='js-seo-preview__google-inner'>",c+="<span id='js-seo-preview__google-title'>"+t(d,65)+"</span>",c+=r.metadata.url.use_slug===!0?"<span id='js-seo-preview__google-url'>"+t(r.metadata.url.base_domain+l,72)+"</span>":"<span id='js-seo-preview__google-url'>"+t(l,72)+"</span>",c+="<span id='js-seo-preview__google-desc'>"+p+t(u,300)+"</span>",c+="</div>";var g="";g+="<div id='js-seo-preview__facebook-inner'>",v&&(g+="<img src='"+v+"' id='js-seo-preview__facebook-image' />"),g+="<div id='js-seo-preview__facebook-inner-text'>",g+="<span id='js-seo-preview__facebook-title'>"+t(d,200)+"</span>",g+="<span id='js-seo-preview__facebook-desc'>"+t(u,300)+"</span>",g+=r.metadata.url.use_slug===!0?"<span id='js-seo-preview__facebook-url'>"+t(r.metadata.url.base_domain+l,72)+"</span>":"<span id='js-seo-preview__facebook-url'>"+n(l)+"</span>",g+="</div></div>";var _="";_="<div class='js-seo-preview md-js-cleanslate'>",1==r.google.show&&(_+=c),_+="</div>";var m="";return m="<div class='js-seo-preview md-js-cleanslate'>",1==r.facebook.show&&(m+=g),m+="</div>",e(r.google_div).length&&e(r.google_div).html(_),e(r.facebook_div).length&&e(r.facebook_div).html(m),!1}})}(jQuery);